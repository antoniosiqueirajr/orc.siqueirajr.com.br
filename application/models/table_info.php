<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');class table_info extends B10_Model{        public function __construct() {        parent::__construct();    }        public function indexar(){        $this->indexar_local();    }        public function indexar_local(){        $x_update = 0;        $x_insert = 0;        $x_tables = 0;        $x_fields = 0;        foreach($this->db->list_tables() as $table){            foreach($this->db->field_data($table) as $field){                if(is_object($this->get(array('table'=>$table,'field'=>$field->name)))){                    $this->update(array('table'=>$table,'field'=>$field->name,'type <>'=>'file'),array('type'=>$field->type));                    $x_update++;                }                else{                    $insert =   array('table'=>$table,'field'=>$field->name,'type'=>$field->type,'label'=>ucfirst(str_replace('_',' ',$field->name)));                    if($field->name == 'id'){                        $insert['primary']  =   1;                    }                    $this->insert($insert);                    $x_insert++;                }                $x_fields++;            }            $x_tables++;        }        return "$x_tables tabelas lidas ($x_fields campos). $x_update atualizações, $x_insert indexações";    }}